{% extends 'base.html' %}

{% block body %}
    <main role="main">
        <form method="POST" action="/stackexchange">
            <div class="form-group">
                <label for="site">Please choose a site</label>
                <select class="form-control" id="site" name="site">
                    <option value="" disabled selected hidden>Choose a site...</option>
                    {% for s in sites %}
                    <option value={{s.api_site_parameter}}>{{s.name}}</option>
                    {% endfor %}
                </select>
            </div>
            <!--
            <div class="form-group">
                <label for="minDate">Please choose a start date</label>
                <input class="form-control" type="date" id="minDate" name="minDate">
            </div>
            <div class="form-group">
                <label for="minTime">Please choose a start time</label>
                <input class="form-control" type="time" id="minTime" name="minTime">
            </div>
            <div class="form-group">
                <label for="maxDate">Please choose a end date</label>
                <input class="form-control" type="date" id="maxDate" name="maxDate">
            </div>
            <div class="form-group">
                <label for="maxTime">Please choose a end time</label>
                <input class="form-control" type="time" id="maxTime" name="maxTime">
            </div>
            <div class="form-group">
                <label for="minRep">Please choose a end time</label>
                <input class="form-control" type="number" id="minRep" name="minRep" min="0">
            </div>
            -->
            <button type="submit" class="btn btn-primary">Farm</button>
        </form>
        <table class="table" id="farmTable">
            <thead>
                <tr>
                    <th>Question</th>
                    <th>Views</th>
                    <th>Created On</th>
                </tr>
            </thead>
            <tbody>
                {% for q in questions %}
                <tr>
                    <td>{{q.title}}</td>
                    <td>{{q.view_count}}</td>
                    <td>{{q.creation_date}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>   
    <script>
        $(document).ready(function () {
            $('#farmTable').DataTable();
        });
    </script>
{% endblock %}
